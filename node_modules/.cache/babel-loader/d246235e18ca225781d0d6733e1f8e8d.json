{"ast":null,"code":"import _slicedToArray from \"/Users/longyuan/stempro/my_app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/longyuan/stempro/my_app/src/Game.js\";\nimport React from 'react';\nimport Board from './Board';\n\nclass Game extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      /*\n        history: [\n          {\n            squares: Array(9).fill(null)\n          }\n        ],\n      */\n      squares: Array(9).fill(null),\n      //stepNumber: 0,\n      xIsNext: true\n    };\n  }\n\n  calculateWinner(squares) {\n    const lines = [[0, 1, 2], [3, 4, 5], [6, 7, 8], [0, 3, 6], [1, 4, 7], [2, 5, 8], [0, 4, 8], [2, 4, 6]];\n\n    for (let i = 0; i < lines.length; i++) {\n      const _lines$i = _slicedToArray(lines[i], 3),\n            a = _lines$i[0],\n            b = _lines$i[1],\n            c = _lines$i[2];\n\n      if (squares[a] && squares[a] === squares[b] && squares[a] === squares[c]) {\n        return squares[a];\n      }\n    }\n\n    return null;\n  }\n\n  handleClick(i) {\n    //const history = this.state.history.slice(0, this.state.stepNumber + 1);\n    //const current = history[history.length - 1];\n    //const squares = current.squares.slice();\n    const squares = this.state.squares;\n\n    if (this.calculateWinner(squares) || squares[i]) {\n      return;\n    }\n\n    squares[i] = this.state.xIsNext ? \"X\" : \"O\";\n    this.setState({\n      /*\n      history: history.concat([\n      {\n        squares: squares\n      }\n      ]),\n      */\n      //      stepNumber: history.length,\n      squares: squares,\n      xIsNext: !this.state.xIsNext\n    });\n  }\n\n  render() {\n    //const history = this.state.history;\n    //const current = history[this.state.stepNumber];\n    const winner = this.calculateWinner(this.state.squares);\n    let status;\n\n    if (winner) {\n      status = \"Winner: \" + winner;\n    } else {\n      status = \"Next player: \" + (this.state.xIsNext ? \"X\" : \"O\");\n    }\n\n    return React.createElement(\"div\", {\n      className: \"game\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"game-board\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, React.createElement(Board, {\n      squares: this.state.squares,\n      onClick: i => this.handleClick(i),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    })), React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, status));\n  }\n\n}\n\nexport default Game;","map":{"version":3,"sources":["/Users/longyuan/stempro/my_app/src/Game.js"],"names":["React","Board","Game","Component","constructor","props","state","squares","Array","fill","xIsNext","calculateWinner","lines","i","length","a","b","c","handleClick","setState","render","winner","status"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,SAAlB;;AAGA,MAAMC,IAAN,SAAmBF,KAAK,CAACG,SAAzB,CAAmC;AACjCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACb;;;;;;;AAOEC,MAAAA,OAAO,EAAEC,KAAK,CAAC,CAAD,CAAL,CAASC,IAAT,CAAc,IAAd,CARE;AASX;AACAC,MAAAA,OAAO,EAAE;AAVE,KAAb;AAYD;;AAEDC,EAAAA,eAAe,CAACJ,OAAD,EAAU;AACvB,UAAMK,KAAK,GAAG,CACZ,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,CADY,EAEZ,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,CAFY,EAGZ,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,CAHY,EAIZ,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,CAJY,EAKZ,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,CALY,EAMZ,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,CANY,EAOZ,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,CAPY,EAQZ,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,CARY,CAAd;;AAUA,SAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGD,KAAK,CAACE,MAA1B,EAAkCD,CAAC,EAAnC,EAAuC;AAAA,sCACnBD,KAAK,CAACC,CAAD,CADc;AAAA,YAC9BE,CAD8B;AAAA,YAC3BC,CAD2B;AAAA,YACxBC,CADwB;;AAErC,UAAIV,OAAO,CAACQ,CAAD,CAAP,IAAcR,OAAO,CAACQ,CAAD,CAAP,KAAeR,OAAO,CAACS,CAAD,CAApC,IAA2CT,OAAO,CAACQ,CAAD,CAAP,KAAeR,OAAO,CAACU,CAAD,CAArE,EAA0E;AACxE,eAAOV,OAAO,CAACQ,CAAD,CAAd;AACD;AACF;;AACD,WAAO,IAAP;AACD;;AAGDG,EAAAA,WAAW,CAACL,CAAD,EAAI;AACb;AACA;AAEA;AACA,UAAMN,OAAO,GAAG,KAAKD,KAAL,CAAWC,OAA3B;;AACA,QAAI,KAAKI,eAAL,CAAqBJ,OAArB,KAAiCA,OAAO,CAACM,CAAD,CAA5C,EAAiD;AAC/C;AACD;;AACDN,IAAAA,OAAO,CAACM,CAAD,CAAP,GAAa,KAAKP,KAAL,CAAWI,OAAX,GAAqB,GAArB,GAA2B,GAAxC;AACA,SAAKS,QAAL,CAAc;AACV;;;;;;;AAOR;AACMZ,MAAAA,OAAO,EAAEA,OATG;AAUZG,MAAAA,OAAO,EAAE,CAAC,KAAKJ,KAAL,CAAWI;AAVT,KAAd;AAYD;;AAEDU,EAAAA,MAAM,GAAG;AACP;AACA;AACA,UAAMC,MAAM,GAAG,KAAKV,eAAL,CAAqB,KAAKL,KAAL,CAAWC,OAAhC,CAAf;AAEA,QAAIe,MAAJ;;AACA,QAAID,MAAJ,EAAY;AACVC,MAAAA,MAAM,GAAG,aAAaD,MAAtB;AACD,KAFD,MAEO;AACLC,MAAAA,MAAM,GAAG,mBAAmB,KAAKhB,KAAL,CAAWI,OAAX,GAAqB,GAArB,GAA2B,GAA9C,CAAT;AACD;;AAED,WACE;AAAK,MAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,KAAD;AACE,MAAA,OAAO,EAAE,KAAKJ,KAAL,CAAWC,OADtB;AAEE,MAAA,OAAO,EAAEM,CAAC,IAAI,KAAKK,WAAL,CAAiBL,CAAjB,CAFhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CADF,EAOE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAOS,MAAP,CAPF,CADF;AAWD;;AArFgC;;AAwFnC,eAAepB,IAAf","sourcesContent":["import React from 'react';\nimport Board from './Board';\n\n\nclass Game extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n    /*\n      history: [\n        {\n          squares: Array(9).fill(null)\n        }\n      ],\n    */\n      squares: Array(9).fill(null),\n      //stepNumber: 0,\n      xIsNext: true\n    };\n  }\n\n  calculateWinner(squares) {\n    const lines = [\n      [0, 1, 2],\n      [3, 4, 5],\n      [6, 7, 8],\n      [0, 3, 6],\n      [1, 4, 7],\n      [2, 5, 8],\n      [0, 4, 8],\n      [2, 4, 6]\n    ];\n    for (let i = 0; i < lines.length; i++) {\n      const [a, b, c] = lines[i];\n      if (squares[a] && squares[a] === squares[b] && squares[a] === squares[c]) {\n        return squares[a];\n      }\n    }\n    return null;\n  }\n  \n\n  handleClick(i) {\n    //const history = this.state.history.slice(0, this.state.stepNumber + 1);\n    //const current = history[history.length - 1];\n\n    //const squares = current.squares.slice();\n    const squares = this.state.squares;\n    if (this.calculateWinner(squares) || squares[i]) {\n      return;\n    }\n    squares[i] = this.state.xIsNext ? \"X\" : \"O\";\n    this.setState({\n        /*\n      history: history.concat([\n        {\n          squares: squares\n        }\n      ]),\n      */\n//      stepNumber: history.length,\n      squares: squares,\n      xIsNext: !this.state.xIsNext\n    });\n  }\n\n  render() {\n    //const history = this.state.history;\n    //const current = history[this.state.stepNumber];\n    const winner = this.calculateWinner(this.state.squares);\n\n    let status;\n    if (winner) {\n      status = \"Winner: \" + winner;\n    } else {\n      status = \"Next player: \" + (this.state.xIsNext ? \"X\" : \"O\");\n    }\n\n    return (\n      <div className=\"game\">\n        <div className=\"game-board\">\n          <Board\n            squares={this.state.squares}\n            onClick={i => this.handleClick(i)}\n          />\n        </div>\n        <span>{status}</span>\n      </div>\n    );\n  }\n}\n\nexport default Game;\n\n"]},"metadata":{},"sourceType":"module"}